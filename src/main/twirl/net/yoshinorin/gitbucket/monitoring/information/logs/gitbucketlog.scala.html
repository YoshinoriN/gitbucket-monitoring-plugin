@(defaultSettings: net.yoshinorin.gitbucket.monitoring.models.DefaultSettings,
  log: Either[String, net.yoshinorin.gitbucket.monitoring.models.Log])(implicit context: gitbucket.core.controller.Context)
@import context._
@gitbucket.core.html.main("Monitoring") {
  @gitbucket.core.admin.html.menu("monitoring") {
    @net.yoshinorin.gitbucket.monitoring.html.navigation(context)
    @net.yoshinorin.gitbucket.monitoring.html.loading(context)
    @log match {
      case Left(message) => { <div class="error"> @message </div> }
      case Right(s) => {
      <form id="get-log-from-tail" action="@context.path/admin/monitoring/logs/gitbucketlog" method="get" class="form-inline">
        <div class="form-group">
          <button type="submit button" class="btn btn-default">
            <i class="glyphicon glyphicon-refresh"></i>
          </button>
          <input type="text" value="@s.displayedLines" name="lines" class="form-control" placeholder="@s.displayedLines"/>
          lines were display from the tail of log. You can specify the number of displayed lines value less than @defaultSettings.displayLimitLines. Default is @defaultSettings.defaultDisplayLines.
        </div>
      </form><br>
          @defaultSettings.logBackInfo.logFilePath match {
            case Left(message) => { <div class="error"> @message </div> }
            case Right(l) => {
              <div class="box-header">
                <span class="glyphicon glyphicon-file">
                  <span class="label label-default ">@l</span>
                </span>
              </div>
          }
        }
      <div class="box-content-bottom">
        <pre class="prettyprint linenums blob">
          <div class="error">
            @s.log
          </div>
        </pre>
      </div>
      }
    }
  }
}