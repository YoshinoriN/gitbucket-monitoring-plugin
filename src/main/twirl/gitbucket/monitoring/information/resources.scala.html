@(resources: gitbucket.monitoring.models.machineResources.Resources)(implicit context: gitbucket.core.controller.Context)
@import context._
@import gitbucket.core.html.main
@import gitbucket.core.admin.html.menu
@import gitbucket.core.view.helpers._
@gitbucket.core.html.main("Monitoring") {
  <link href="@context.path/plugin-assets/monitoring/style.css" rel="stylesheet">
  @gitbucket.core.admin.html.menu("monitoring") {
    @gitbucket.monitoring.html.navigation(context)
    <div class="panel panel-default">
      <div class="panel-heading strong">CPU</div>
        <div class="panel-body">
          <div class="row">
            <div class="col-sm-2">
              <div class="panel panel-default">
                <div class="panel-heading strong">Core</div>
                <div class="panel-body text-right">@resources.core</div>
              </div>
            </div>
            <div class="col-sm-2">
              <div class="panel panel-default">
                <div class="panel-heading strong">Used</div>
                  <div class="panel-body text-right">
                    @resources.cpu match {
                      case Left(message) => { <div class="error"> @message </div> }
                      case Right(c) => { @c.usaga %}
                    }
                  </div>
                </div>
            </div>
          </div>
        </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading strong">Memory</div>
        <div class="panel-body">
          <label><span class="strong"></span>Physical</label>
          <div class="row">
            <div class="col-sm-2">
              <div class="panel panel-default">
                <div class="panel-heading strong">Used</div>
                  <div class="panel-body text-right">
                    @resources.memory match {
                      case Left(message) => { <div class="error"> @message </div> }
                      case Right(m) => { @m.used / @m.total MB }
                    }
                  </div>
              </div>
            </div>
            <div class="col-sm-2">
              <div class="panel panel-default">
                <div class="panel-heading strong">Free</div>
                  <div class="panel-body text-right">
                    @resources.memory match {
                      case Left(message) => { <div class="error"> @message </div> }
                      case Right(m) => { @m.free / @m.total MB }
                    }
                  </div>
              </div>
            </div>
            <div class="col-sm-2">
              <div class="panel panel-default">
                <div class="panel-heading strong">Shared</div>
                  <div class="panel-body text-right">
                    @resources.memory match {
                      case Left(message) => { <div class="error"> @message </div> }
                      case Right(m) => { @m.shared / @m.total MB }
                    }
                  </div>
              </div>
            </div>
            <div class="col-sm-2">
              <div class="panel panel-default">
                <div class="panel-heading strong">Buff/Cache</div>
                  <div class="panel-body text-right">
                    @resources.memory match {
                      case Left(message) => { <div class="error"> @message </div> }
                      case Right(m) => { @m.buff_cache / @m.total MB }
                    }
                  </div>
              </div>
            </div>
            <div class="col-sm-2">
              <div class="panel panel-default">
                <div class="panel-heading strong">Available</div>
                  <div class="panel-body text-right">
                    @resources.memory match {
                      case Left(message) => { <div class="error"> @message </div> }
                      case Right(m) => { @m.available / @m.total MB }
                    }
                  </div>
              </div>
            </div>
          </div>
        </div>
        <div class="panel-body">
          <label><span class="strong">Swap</span></label>
          <div class="row">
            <div class="col-sm-2">
              <div class="panel panel-default">
                <div class="panel-heading strong">Used</div>
                  <div class="panel-body text-right">
                    @resources.swap match {
                      case Left(message) => { <div class="error"> @message </div> }
                      case Right(s) => { @s.used / @s.total MB }
                    }
                  </div>
              </div>
            </div>
            <div class="col-sm-2">
              <div class="panel panel-default">
                <div class="panel-heading strong">Free</div>
                  <div class="panel-body text-right">
                    @resources.swap match {
                      case Left(message) => { <div class="error"> @message </div> }
                      case Right(s) => { @s.free / @s.total MB }
                    }
                  </div>
              </div>
            </div>
          </div>
        </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading strong">Disk</div>
        <div class="panel-body">
          <div class="row">
            <div class="col-sm-2">
              <div class="panel panel-default">
                <div class="panel-heading strong">Used</div>
                <div class="panel-body text-right">@resources.usedSpace / @resources.totalSpace GB</div>
              </div>
            </div>
            <div class="col-sm-2">
              <div class="panel panel-default">
                <div class="panel-heading strong">Free</div>
                <div class="panel-body text-right">@resources.freeSpace / @resources.totalSpace GB</div>
              </div>
            </div>
          </div>
        </div>
    </div>
  }
}