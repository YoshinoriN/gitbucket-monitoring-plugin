@(tasks: Either[String, gitbucket.monitoring.models.Tasks],
  loadAve: Either[String, gitbucket.monitoring.models.LoadAverage])(implicit context: gitbucket.core.controller.Context)
@import context._
@import gitbucket.monitoring.services.operatingsystem.OperatingSystem
@gitbucket.core.html.main("Monitoring") {
  @gitbucket.core.admin.html.menu("monitoring") {
    @gitbucket.monitoring.html.navigation(context)
    <div class="panel panel-default">
      <div class="panel-heading strong">Load Average</div>
        <div class="panel-body">
          @loadAve match {
            case Left(message) => { @gitbucket.monitoring.helper.html.coloring(message) }
            case Right(l) => {
              <div class="row">
                @OperatingSystem.osType match {
                  case OperatingSystem.Windows => { @gitbucket.monitoring.bootstrapPanel.html.colsm2("Current", l.oneMin) }
                  case _ => { @gitbucket.monitoring.bootstrapPanel.html.colsm2("Recent 1min", l.oneMin) }
                }
                @gitbucket.monitoring.bootstrapPanel.html.colsm2("Recent 5min", l.fiveMin)
                @gitbucket.monitoring.bootstrapPanel.html.colsm2("Recent 15min", l.fifteenMin)
            </div>
            }
          }
        </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading strong">Process</div>
        <div class="panel-body">
          @tasks match {
            case Left(message) => { @gitbucket.monitoring.helper.html.coloring(message) }
            case Right(t) => {
              <div class="row">
                @gitbucket.monitoring.bootstrapPanel.html.colsm2("Running", (t.running + "/" + t.total))
                @gitbucket.monitoring.bootstrapPanel.html.colsm2("Sleeping", (t.sleeping + "/" + t.total))
                @gitbucket.monitoring.bootstrapPanel.html.colsm2("Stopped", (t.stopped + "/" + t.total))
                @gitbucket.monitoring.bootstrapPanel.html.colsm2("Zombie", (t.zombie + "/" + t.total))
              </div>
            }
          }
        </div>
    </div>
  }
}