@(tasks: Either[String, gitbucket.monitoring.models.Tasks],
  loadAve: Either[String, gitbucket.monitoring.models.LoadAverage])(implicit context: gitbucket.core.controller.Context)
@import context._
@import gitbucket.core.html.main
@import gitbucket.core.admin.html.menu
@gitbucket.core.html.main("Monitoring") {
  <link href="@context.path/plugin-assets/monitoring/style.css" rel="stylesheet">
  @gitbucket.core.admin.html.menu("monitoring") {
    @gitbucket.monitoring.html.navigation(context)
    @gitbucket.monitoring.html.loading(context)
    <div class="panel panel-default">
      <div class="panel-heading strong">Load Average</div>
        <div class="panel-body">
          @loadAve match {
            case Left(message) => { <div class="error"> @message </div> }
            case Right(l) => {
              <div class="row">
                <div class="col-sm-2">
                  <div class="panel panel-default">
                    <div class="panel-heading strong">Recent 1min</div>
                    <div class="panel-body text-right">
                      @l.oneMin
                    </div>
                  </div>
                </div>
              <div class="col-sm-2">
                <div class="panel panel-default">
                  <div class="panel-heading strong">Recent 5min</div>
                  <div class="panel-body text-right">
                      @l.fiveMin
                  </div>
                </div>
              </div>
              <div class="col-sm-2">
                <div class="panel panel-default">
                  <div class="panel-heading strong">Recent 15min</div>
                    <div class="panel-body text-right">
                      @l.fifteenMin
                    </div>
                </div>
              </div>
            </div>
            }
          }
        </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading strong">Process</div>
        <div class="panel-body">
          @tasks match {
            case Left(message) => { <div class="error"> @message </div> }
            case Right(t) => {
              <div class="row">
                <div class="col-sm-2">
                  <div class="panel panel-default">
                    <div class="panel-heading strong">Running</div>
                    <div class="panel-body text-right">
                      @t.running / @t.total
                    </div>
                  </div>
                </div>
                <div class="col-sm-2">
                  <div class="panel panel-default">
                    <div class="panel-heading strong">Sleeping</div>
                    <div class="panel-body text-right">
                        @t.sleeping / @t.total
                    </div>
                  </div>
                </div>
                <div class="col-sm-2">
                  <div class="panel panel-default">
                    <div class="panel-heading strong">Stopped</div>
                    <div class="panel-body text-right">
                      @t.stopped / @t.total
                    </div>
                  </div>
                </div>
                <div class="col-sm-2">
                  <div class="panel panel-default">
                    <div class="panel-heading strong">Zombie</div>
                    <div class="panel-body text-right">
                      @t.zombie / @t.total
                    </div>
                  </div>
                </div>
              </div>
            }
          }
        </div>
    </div>
  }
}